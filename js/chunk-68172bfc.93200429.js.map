{"version":3,"sources":["webpack:///./src/assets/images/logo_index.png","webpack:///./src/views/login/index.vue?697b","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?e0c5","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/index.vue?e21e"],"names":["module","exports","__webpack_require__","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","alt","ref","model","loginForm","rules","status-icon","prop","placeholder","value","callback","$$v","$set","expression","staticStyle","width","directives","name","rawName","float","type","plain","nativeOn","click","$event","getCode","_v","show","_s","count","on","onLogin","staticRenderFns","loginvue_type_script_lang_js_","data","validateMobile","rule","test","Error","mobile","code","required","message","trigger","validator","len","timer","methods","_this","$refs","validate","_ref","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","valid","res","wrap","_context","prev","next","$http","post","sent","window","sessionStorage","setItem","JSON","stringify","clearInterval","$router","push","t0","$message","error","stop","_x","apply","arguments","_this2","TIME_COUNT","setInterval","views_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_5bb516c1_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_5bb516c1_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"mGAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,iGCAxC,IAAAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,mBAA8B,CAAAF,EAAA,WAAgBE,YAAA,cAAyB,CAAAF,EAAA,OAAYG,MAAA,CAAOC,IAAMX,EAAQ,QAAoCY,IAAA,oBAA0BL,EAAA,WAAgBM,IAAA,YAAAJ,YAAA,gBAAAC,MAAA,CAAmDI,MAAAX,EAAAY,UAAAC,MAAAb,EAAAa,MAAAC,cAAA,KAA0D,CAAAV,EAAA,gBAAqBG,MAAA,CAAOQ,KAAA,WAAiB,CAAAX,EAAA,YAAiBG,MAAA,CAAOS,YAAA,UAAuBL,MAAA,CAAQM,MAAAjB,EAAAY,UAAA,OAAAM,SAAA,SAAAC,GAAsDnB,EAAAoB,KAAApB,EAAAY,UAAA,SAAAO,IAAuCE,WAAA,uBAAgC,GAAAjB,EAAA,gBAAyBG,MAAA,CAAOQ,KAAA,SAAe,CAAAX,EAAA,YAAiBkB,YAAA,CAAaC,MAAA,SAAgBhB,MAAA,CAAQS,YAAA,SAAsBL,MAAA,CAAQM,MAAAjB,EAAAY,UAAA,KAAAM,SAAA,SAAAC,GAAoDnB,EAAAoB,KAAApB,EAAAY,UAAA,OAAAO,IAAqCE,WAAA,oBAA8BjB,EAAA,aAAkBoB,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAT,MAAAjB,EAAA,KAAAqB,WAAA,SAAgEC,YAAA,CAAeK,MAAA,SAAgBpB,MAAA,CAAQqB,KAAA,UAAAC,MAAA,IAA4BC,SAAA,CAAWC,MAAA,SAAAC,GAAyB,OAAAhC,EAAAiC,QAAAD,MAA6B,CAAAhC,EAAAkC,GAAA,WAAA9B,EAAA,aAAoCoB,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAT,OAAAjB,EAAAmC,KAAAd,WAAA,UAAkEC,YAAA,CAAeK,MAAA,QAAAJ,MAAA,SAAgChB,MAAA,CAAQqB,KAAA,OAAAC,MAAA,KAA0B,CAAA7B,EAAAkC,GAAAlC,EAAAoC,GAAApC,EAAAqC,OAAA,YAAAjC,EAAA,gBAAAA,EAAA,eAA4EG,MAAA,CAAOU,OAAA,IAAc,CAAAb,EAAA,QAAaE,YAAA,MAAiB,CAAAN,EAAAkC,GAAA,aAAAlC,EAAAkC,GAAA,oBAAA9B,EAAA,QAA4DE,YAAA,MAAiB,CAAAN,EAAAkC,GAAA,SAAAlC,EAAAkC,GAAA,sBAAA9B,EAAA,gBAAAA,EAAA,aAAkFkB,YAAA,CAAaC,MAAA,QAAehB,MAAA,CAAQqB,KAAA,WAAiBU,GAAA,CAAKP,MAAA/B,EAAAuC,UAAqB,CAAAvC,EAAAkC,GAAA,0BAC5nDM,EAAA,2BCwCAC,EAAA,CACAC,KADA,WAEA,IAAAC,EAAA,SAAAC,EAAA3B,EAAAC,GAGA,gBAAA2B,KAAA5B,GACAC,IAEAA,EAAA,IAAA4B,MAAA,cAGA,OACAlC,UAAA,CACAmC,OAAA,cACAC,KAAA,UAEAnC,MAAA,CACAkC,OAAA,CACA,CACAE,UAAA,EACAC,QAAA,uBACAC,QAAA,QAEA,CAAAC,UAAAT,EAAAQ,QAAA,SAEAH,KAAA,CACA,CAAAC,UAAA,EAAAC,QAAA,iBAAAC,QAAA,QACA,CAAAE,IAAA,EAAAH,QAAA,QAAAC,QAAA,UAIAd,MAAA,GACAF,MAAA,EACAmB,MAAA,OAGAC,QAAA,CACAhB,QADA,WACA,IAAAiB,EAAAvD,KAEAA,KAAAwD,MAAA7C,UAAA8C,SAAA,eAAAC,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,EAAAC,GAAA,IAAAC,EAAA,OAAAJ,mBAAAK,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACAL,EADA,CAAAG,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIAd,EAAAe,MAAAC,KAAA,iBAAAhB,EAAA5C,WAJA,OAIAsD,EAJAE,EAAAK,KAKAC,OAAAC,eAAAC,QACA,gBACAC,KAAAC,UAAAZ,EAAAxB,YAEAqC,cAAAvB,EAAAF,OACAE,EAAAwB,QAAAC,KAAA,KAVAb,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAc,GAAAd,EAAA,YAYAZ,EAAA2B,SAAAC,MAAA,aAZA,yBAAAhB,EAAAiB,SAAArB,EAAA,kCAAAsB,GAAA,OAAA3B,EAAA4B,MAAAtF,KAAAuF,YAAA,KAiCAvD,QApCA,WAoCA,IAAAwD,EAAAxF,KACAyF,EAAA,GACAzF,KAAAqD,QACArD,KAAAoC,MAAAqD,EACAzF,KAAAkC,MAAA,EACAlC,KAAAqD,MAAAqC,YAAA,WACAF,EAAApD,MAAA,GAAAoD,EAAApD,OAAAqD,EACAD,EAAApD,SAEAoD,EAAAtD,MAAA,EACA4C,cAAAU,EAAAnC,OACAmC,EAAAnC,MAAA,OAEA,SC9H8VsC,EAAA,0BCQ9VC,EAAgBjC,OAAAkC,EAAA,KAAAlC,CACdgC,EACA7F,EACAyC,GACF,EACA,KACA,WACA,MAIeuD,EAAA,WAAAF,6CCnBf,IAAAG,EAAAnG,EAAA,QAAAoG,EAAApG,EAAAqG,EAAAF,GAAwjBC,EAAG","file":"js/chunk-68172bfc.93200429.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo_index.e0892259.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('el-card',{staticClass:\"login-card\"},[_c('img',{attrs:{\"src\":require(\"../../assets/images/logo_index.png\"),\"alt\":\"logo_index.png\"}}),_c('el-form',{ref:\"loginForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules,\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入手机号码\"},model:{value:(_vm.loginForm.mobile),callback:function ($$v) {_vm.$set(_vm.loginForm, \"mobile\", $$v)},expression:\"loginForm.mobile\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('el-input',{staticStyle:{\"width\":\"240px\"},attrs:{\"placeholder\":\"输入验证码\"},model:{value:(_vm.loginForm.code),callback:function ($$v) {_vm.$set(_vm.loginForm, \"code\", $$v)},expression:\"loginForm.code\"}}),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"success\",\"plain\":\"\"},nativeOn:{\"click\":function($event){return _vm.getCode($event)}}},[_vm._v(\"发送验证码\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.show),expression:\"!show\"}],staticStyle:{\"float\":\"right\",\"width\":\"100px\"},attrs:{\"type\":\"info\",\"plain\":\"\"}},[_vm._v(_vm._s(_vm.count)+\" s\")])],1),_c('el-form-item',[_c('el-checkbox',{attrs:{\"value\":true}},[_c('span',{staticClass:\"xy\"},[_vm._v(\"我已阅读并同意\")]),_vm._v(\"用户协议\\n          \"),_c('span',{staticClass:\"xy\"},[_vm._v(\"和隐私\")]),_vm._v(\"条款\\n        \")])],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onLogin}},[_vm._v(\"登 基\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-container\">\r\n    <el-card class=\"login-card\">\r\n      <img src=\"../../assets/images/logo_index.png\" alt=\"logo_index.png\">\r\n      <!-- s=表单 -->\r\n      <!-- :model=\"loginForm\" 获取表单所有数据的集合在data里面定义好 基本必须-->\r\n      <!-- :rules=\"rules\"  制定表单验证规则 配合  + prop='要验证的文本框'  + 下面定义的规则  基本必须    -->\r\n      <!-- ref=\"loginForm\"  通过this.$refs对象获取此表单的dom对象 要对整个表单整体判断时使用  基本必须-->\r\n      <!-- status-icon  是否在输入框中显示校验结果反馈图标  好看而已-->\r\n      <!-- class=\"demo-ruleForm\"  可以删掉-->\r\n      <el-form :model=\"loginForm\" :rules=\"rules\" status-icon ref=\"loginForm\" class=\"demo-ruleForm\">\r\n        <el-form-item prop=\"mobile\">\r\n          <el-input v-model=\"loginForm.mobile\" placeholder=\"输入手机号码\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"code\">\r\n          <el-input v-model=\"loginForm.code\" placeholder=\"输入验证码\" style=\"width:240px\"></el-input>\r\n          <el-button\r\n            type=\"success\"\r\n            plain\r\n            style=\"float:right\"\r\n            v-show=\"show\"\r\n            @click.native=\"getCode\"\r\n          >发送验证码</el-button>\r\n          <el-button type=\"info\" plain style=\"float:right; width:100px\" v-show=\"!show\" >{{count}} s</el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-checkbox :value=\"true\">\r\n            <span class=\"xy\">我已阅读并同意</span>用户协议\r\n            <span class=\"xy\">和隐私</span>条款\r\n          </el-checkbox>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"onLogin\" style=\"width:100%\">登 基</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- e=表单 -->\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    const validateMobile = (rule, value, callback) => {\r\n      // 规则对象  输入的内容  回调函数（验证完毕需要调用）\r\n      // 当 callback() 成功  当前callback(new Error('错误提示'))  失败\r\n      if (/^1[3-9]\\d{9}$/.test(value)) {\r\n        callback()\r\n      } else {\r\n        callback(new Error('手机号格式不正确'))\r\n      }\r\n    }\r\n    return {\r\n      loginForm: {\r\n        mobile: '18801134129',\r\n        code: '246810'\r\n      },\r\n      rules: {\r\n        mobile: [\r\n          {\r\n            required: true,\r\n            message: '请输入手机号码(18801134129)',\r\n            trigger: 'blur'\r\n          },\r\n          { validator: validateMobile, trigger: 'blur' }\r\n        ],\r\n        code: [\r\n          { required: true, message: '请输入验证码(246810)', trigger: 'blur' },\r\n          { len: 6, message: '6位数SB', trigger: 'blur' }\r\n        ]\r\n      },\r\n      // 验证码参数\r\n      count: '',\r\n      show: true,\r\n      timer: null\r\n    }\r\n  },\r\n  methods: {\r\n    onLogin () {\r\n      // 可变化成 async + await 的同步写法\r\n      this.$refs.loginForm.validate(async valid => {\r\n        if (valid) {\r\n          // 为true 则全部判断成功 可以提交表单验证了\r\n          try {\r\n            const res = await this.$http.post('authorizations', this.loginForm)\r\n            window.sessionStorage.setItem(\r\n              'chj74-toutiao',\r\n              JSON.stringify(res.data.data)\r\n            )\r\n            clearInterval(this.timer)\r\n            this.$router.push('/')\r\n          } catch (error) {\r\n            this.$message.error('手机号或验证码错误')\r\n          }\r\n          //   this.$http\r\n          //     .post('authorizations', this.loginForm)\r\n          //     .then(res => {\r\n          //       const { status, data } = res\r\n          //       if (status === 201) {\r\n          //         // TODO 2. 保存用户的信息  用来判断登录的状态\r\n          //         window.sessionStorage.setItem('chj74-toutiao', JSON.stringify(data.data))\r\n          //         this.$router.push('/')\r\n          //       }\r\n          //     })\r\n          //     .catch(() => {\r\n          //       this.$message.error('手机号或验证码错误')\r\n          //     })\r\n          // } else {\r\n          //   // 判断失败\r\n        }\r\n      })\r\n    },\r\n    // 点击发送验证码\r\n    getCode () {\r\n      const TIME_COUNT = 60\r\n      if (!this.timer) {\r\n        this.count = TIME_COUNT\r\n        this.show = false\r\n        this.timer = setInterval(() => {\r\n          if (this.count > 0 && this.count <= TIME_COUNT) {\r\n            this.count--\r\n          } else {\r\n            this.show = true\r\n            clearInterval(this.timer)\r\n            this.timer = null\r\n          }\r\n        }, 1000)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.login-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  background: url(\"../../assets/images/login_bg.jpg\") no-repeat center;\r\n  background-size: 100% 100%;\r\n  .login-card {\r\n    width: 400px;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    img {\r\n      display: block;\r\n      margin: 20px auto;\r\n    }\r\n  }\r\n  .xy {\r\n    color: #ccc;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5bb516c1&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5bb516c1&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bb516c1\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5bb516c1&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5bb516c1&lang=less&scoped=true&\""],"sourceRoot":""}