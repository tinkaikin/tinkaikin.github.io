(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4592b9b9"],{7424:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting-container"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("my-bread",[t._v("个人设置")])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form",{attrs:{model:t.reqParams,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"编号"}},[t._v(t._s(t.reqParams.id))]),a("el-form-item",{attrs:{label:"手机"}},[t._v(t._s(t.reqParams.mobile))]),a("el-form-item",{attrs:{label:"媒体名称"}},[a("el-input",{model:{value:t.reqParams.name,callback:function(e){t.$set(t.reqParams,"name",e)},expression:"reqParams.name"}})],1),a("el-form-item",{attrs:{label:"媒体介绍"}},[a("el-input",{attrs:{type:"textarea",rows:"4"},model:{value:t.reqParams.intro,callback:function(e){t.$set(t.reqParams,"intro",e)},expression:"reqParams.intro"}})],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:t.reqParams.email,callback:function(e){t.$set(t.reqParams,"email",e)},expression:"reqParams.email"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.updataUserInfo}},[t._v("保存设置")])],1)],1)],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"http-request":t.myHttpRequest}},[t.reqParams.photo?a("img",{staticClass:"avatar",attrs:{src:t.reqParams.photo}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("p",{staticStyle:{"text-align":"center","font-size":"14px"}},[t._v("更换头像")])],1)])],1)],1)],1)},s=[],n=(a("7f7f"),a("96cf"),a("3b8d")),i=a("8c15"),l={data:function(){return{reqParams:{id:null,name:null,intro:null,photo:null,email:null,mobile:null}}},created:function(){this.getUserInfo()},methods:{myHttpRequest:function(t){var e=this,a=new FormData;a.append("photo",t.file),this.$http.patch("user/photo",a).then(function(t){var a=t.data.data;e.reqParams.photo=a.photo,i["a"].$emit("upDataPhoto",a.photo)})},updataUserInfo:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.patch("user/profile",{name:this.reqParams.name,intro:this.reqParams.intro,email:this.reqParams.email});case 2:e=t.sent,a=e.data.data,this.$message.success("修改成功"),i["a"].$emit("upDataUserInfo",a.name);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getUserInfo:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("user/profile");case 2:e=t.sent,a=e.data.data,this.reqParams=a;case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},o=l,c=a("2877"),u=Object(c["a"])(o,r,s,!1,null,"6442b6e3",null);e["default"]=u.exports},"8c15":function(t,e,a){"use strict";var r=a("8bbf"),s=a.n(r);e["a"]=new s.a({})}}]);
//# sourceMappingURL=chunk-4592b9b9.2e6d6ffc.js.map