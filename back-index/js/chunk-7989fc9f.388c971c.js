(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7989fc9f"],{"0976":function(t,e,a){},"230c":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-container"},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("my-bread",[t._v("内容管理")])],1),r("el-form",{attrs:{model:t.filterData,size:"small","label-width":"80px"}},[r("el-form-item",{attrs:{label:"状态 : "}},[r("el-radio-group",{model:{value:t.filterData.status,callback:function(e){t.$set(t.filterData,"status",e)},expression:"filterData.status"}},[r("el-radio",{attrs:{label:null}},[t._v("全部")]),r("el-radio",{attrs:{label:0}},[t._v("草稿")]),r("el-radio",{attrs:{label:1}},[t._v("待审核")]),r("el-radio",{attrs:{label:2}},[t._v("审核通过")]),r("el-radio",{attrs:{label:3}},[t._v("审核失败")])],1)],1),r("el-form-item",{attrs:{label:"频道 : "}},[r("my-channel",{model:{value:t.filterData.channel_id,callback:function(e){t.$set(t.filterData,"channel_id",e)},expression:"filterData.channel_id"}})],1),r("el-form-item",{attrs:{label:"时间 : "}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholde":"开始日期","end-placeholde":"结束日期"},on:{change:t.setDate},model:{value:t.vlaueArr,callback:function(e){t.vlaueArr=e},expression:"vlaueArr"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.submit(e)}}},[t._v("筛选")])],1)],1)],1),r("el-card",[r("template",{slot:"header"},[t._v("\n      根据筛选条件共查询到\n      "),r("b",[t._v(t._s(t.total))]),t._v(" 条结果:\n    ")]),r("el-table",{attrs:{data:t.tableData}},[r("el-table-column",{attrs:{label:"封面"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("el-image",{staticStyle:{width:"100px",height:"74px"},attrs:{src:t.row.cover.images[0]}},[r("div",{attrs:{slot:"error"},slot:"error"},[r("img",{attrs:{src:a("e77c"),width:"100",height:"74"}})])])]}}])}),r("el-table-column",{attrs:{label:"标题",prop:"title"}}),r("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?r("el-tag",{attrs:{type:"info"}},[t._v("草稿")]):t._e(),1===e.row.status?r("el-tag",[t._v("待审核")]):t._e(),2===e.row.status?r("el-tag",{attrs:{type:"success"}},[t._v("审核通过")]):t._e(),3===e.row.status?r("el-tag",{attrs:{type:"warning"}},[t._v("审核失败")]):t._e(),4===e.row.status?r("el-tag",{attrs:{type:"danger"}},[t._v("已删除")]):t._e()]}}])}),r("el-table-column",{attrs:{label:"发布时间",prop:"pubdate"}}),r("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row.id;return[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",plain:""},on:{click:function(e){return t.edit(a)}}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",plain:""},on:{click:function(e){return t.del(a)}}})]}}])})],1),r("div",{staticClass:"box"},[r("el-pagination",{attrs:{"page-size":t.filterData.per_page,"current-page":t.filterData.page,background:"",layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.pageChange}})],1)],2)],1)},l=[],n=(a("96cf"),a("3b8d")),i={data:function(){return{filterData:{status:null,channel_id:null,begin_pubdate:null,end_pubdate:null,page:1,per_page:20,response_type:null},vlaueArr:[],tableData:[],total:0}},created:function(){this.getArticles()},methods:{getArticles:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("articles",{params:this.filterData});case 2:e=t.sent,a=e.data.data,this.tableData=a.results,this.total=a.total_count;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),edit:function(t){this.$router.push("/publish?id=".concat(t))},del:function(t){var e=this;this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.delete("articles/".concat(t));case 2:e.$message({type:"success",message:"删除成功!"}),e.getArticles();case 4:case"end":return a.stop()}},a)}))).catch(function(){})},submit:function(){this.filterData.page=1,this.getArticles()},setDate:function(t){this.filterData.begin_pubdate=t[0],this.filterData.end_pubdate=t[1]},pageChange:function(t){this.filterData.page=t,this.getArticles()}}},s=i,c=(a("e8f4"),a("2877")),o=Object(c["a"])(s,r,l,!1,null,"5f08de9a",null);e["default"]=o.exports},e77c:function(t,e,a){t.exports=a.p+"img/error.3f7b1f94.gif"},e8f4:function(t,e,a){"use strict";var r=a("0976"),l=a.n(r);l.a}}]);
//# sourceMappingURL=chunk-7989fc9f.388c971c.js.map